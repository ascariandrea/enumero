<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>enumero</title><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="Beautiful and safe enumerations in Scala" /><meta name="author" content="47 Degrees" /><meta name="og:image" content="/enumero/img/poster.png" /><meta name="og:title" content="enumero" /><meta name="og:site_name" content="enumero" /><meta name="og:url" content="http://buildo.github.io/enumero/" /><meta name="og:type" content="website" /><meta name="og:description" content="Beautiful and safe enumerations in Scala" /><meta name="twitter:image" content="/enumero/img/poster.png" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="" /><meta name="kazari-dependencies" content="" /><meta name="kazari-resolvers" content="" /><link rel="icon" type="image/png" href="/enumero/img/favicon.png" /><link rel="icon" type="image/png" sizes="16x16" href="/enumero/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/enumero/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/enumero/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/enumero/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/enumero/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/enumero/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/enumero/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/enumero/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/enumero/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/enumero/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/enumero/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/enumero/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/enumero/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/enumero/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/enumero/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/enumero/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/enumero/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/enumero/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/enumero/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/enumero/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/enumero/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/enumero/css/style.css" /><link rel="stylesheet" href="/enumero/css/palette.css" /><link rel="stylesheet" href="/enumero/css/codemirror.css" /><link rel="stylesheet" href="/enumero/css/kazari-style.css" /><link rel="stylesheet" href="/enumero/css/solarized-dark.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/enumero/" class="brand"><div class="icon-wrapper"><span>enumero</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/buildo/enumero"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">Beautiful and safe enumerations in Scala</h1><h2></h2><p class="text-center"><a href="https://github.com/buildo/enumero" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">      </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><h1 id="enumero">üî¢ Enumero</h1>

<p><a href="https://bintray.com/buildo/maven/enumero/_latestVersion"> <img src="https://api.bintray.com/packages/buildo/maven/enumero/images/download.svg" alt="Download" /> </a></p>

<p>A convention and utility functions for ADT-based safe enumerations.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nd">@enum</span> <span class="k">trait</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="k">object</span> <span class="nc">Earth</span>
  <span class="k">object</span> <span class="nc">Venus</span>
  <span class="k">object</span> <span class="nc">Mercury</span>
<span class="o">}</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">implicitly</span><span class="o">[</span><span class="kt">CaseEnumSerialization</span><span class="o">[</span><span class="kt">Planet</span><span class="o">]].</span><span class="n">caseFromString</span><span class="o">(</span><span class="s">"Earth"</span><span class="o">)</span>
<span class="n">res0</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Planet</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nc">Earth</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="o">(</span><span class="nc">Planet</span><span class="o">.</span><span class="nc">Earth</span> <span class="k">:</span> <span class="kt">Planet</span><span class="o">)</span> <span class="k">match</span> <span class="o">{</span>
     <span class="o">|</span>   <span class="k">case</span> <span class="nc">Planet</span><span class="o">.</span><span class="nc">Earth</span> <span class="k">=&gt;</span> <span class="s">"close"</span>
     <span class="o">|</span>   <span class="k">case</span> <span class="nc">Planet</span><span class="o">.</span><span class="nc">Venus</span> <span class="k">=&gt;</span> <span class="s">"far"</span>
     <span class="o">|</span> <span class="o">}</span>
<span class="o">&lt;</span><span class="n">console</span><span class="k">&gt;:</span><span class="mi">19</span><span class="k">:</span> <span class="kt">warning:</span> <span class="kt">match</span> <span class="kt">may</span> <span class="kt">not</span> <span class="kt">be</span> <span class="kt">exhaustive.</span>
<span class="kt">It</span> <span class="kt">would</span> <span class="kt">fail</span> <span class="kt">on</span> <span class="kt">the</span> <span class="kt">following</span> <span class="kt">input:</span> <span class="kt">Mercury</span>
       <span class="o">(</span><span class="nc">Planet</span><span class="o">.</span><span class="nc">Earth</span> <span class="k">:</span> <span class="kt">Planet</span><span class="o">)</span> <span class="k">match</span> <span class="o">{</span>
                     <span class="o">^</span>
<span class="n">res1</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="n">close</span>
</code></pre>
</div>

<h2 id="install">Install</h2>

<p>Add the buildo/maven Bintray resolver and the dependency to your <code class="highlighter-rouge">build.sbt</code></p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"io.buildo"</span> <span class="o">%%</span> <span class="s">"enumero"</span> <span class="o">%</span> <span class="s">"..."</span>
</code></pre>
</div>

<p>To enable the macro paradise plugin (for the <code class="highlighter-rouge">@enum</code> annotation), also add</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="n">addCompilerPlugin</span><span class="o">(</span><span class="s">"org.scalamacros"</span> <span class="o">%</span> <span class="s">"paradise"</span> <span class="o">%</span> <span class="s">"2.1.0"</span> <span class="n">cross</span> <span class="nc">CrossVersion</span><span class="o">.</span><span class="n">full</span><span class="o">)</span>
</code></pre>
</div>

<h2 id="supported-syntaxes">Supported syntaxes</h2>
<p>The <code class="highlighter-rouge">object</code> keyword is optional in the case declarations. So this:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nd">@enum</span> <span class="k">trait</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="k">object</span> <span class="nc">Earth</span>
  <span class="k">object</span> <span class="nc">Venus</span>
  <span class="k">object</span> <span class="nc">Mercury</span>
<span class="o">}</span>
</code></pre>
</div>

<p>can also be written more concisely as</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nd">@enum</span> <span class="k">trait</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="nc">Earth</span>
  <span class="nc">Venus</span>
  <span class="nc">Mercury</span>
<span class="o">}</span>
</code></pre>
</div>

<p>The first version (slightly more verbose) has a more ‚Äúscalish feel‚Äù, and allows you maintain your code closer to the result of the macro expansion.</p>

<p>The second version (more compact) looks a bit less like scala, but it allows you to strip away another bit of boilerplate.</p>

<h2 id="convention-and-marker-trait">Convention and marker trait</h2>

<p>The <code class="highlighter-rouge">@enum</code> annotation builds enumerations that follow the library‚Äôs convention for how ADT-based enums should be encoded. However, usage of the macro annotation can be avoided by manually writing out the ADT. Here‚Äôs an example that serves as an informal definition of the convention.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">sealed</span> <span class="k">abstract</span> <span class="k">trait</span> <span class="nc">Planet</span>
<span class="k">object</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="k">case</span> <span class="k">object</span> <span class="nc">Earth</span> <span class="k">extends</span> <span class="nc">Planet</span>
  <span class="k">case</span> <span class="k">object</span> <span class="nc">Venus</span> <span class="k">extends</span> <span class="nc">Planet</span>
  <span class="k">case</span> <span class="k">object</span> <span class="nc">Mercury</span> <span class="k">extends</span> <span class="nc">Planet</span>
<span class="o">}</span>
</code></pre>
</div>

<p>This is equivalent to the following (which expands to the same encoding).</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nd">@enum</span> <span class="k">trait</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="k">object</span> <span class="nc">Earth</span>
  <span class="k">object</span> <span class="nc">Venus</span>
  <span class="k">object</span> <span class="nc">Mercury</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Usage of the @enum macro annotations requires the macro paradise plugin to be enabled in your project. Refer to the <a href="#Install">Install</a> section for how to set it up.</p>

<h2 id="to-and-from-string">To and from String</h2>

<p>The <code class="highlighter-rouge">CaseEnumSerialization</code> typeclass provides operations to convert ADT-based enumerations to and from strings,
as well as the name of the <code class="highlighter-rouge">CaseEnum</code> (e.g. <code class="highlighter-rouge">"Planet"</code>) and a <code class="highlighter-rouge">Set</code> of enum values (e.g. <code class="highlighter-rouge">Set(Earth, Venus, Mercury)</code>)</p>

<p>Implemetors of encoding and decoding (serialization) protocols may use it as follows:</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="k">implicit</span> <span class="k">def</span> <span class="n">caseEnumJsonEncoding</span><span class="o">[</span><span class="kt">T</span> <span class="k">&lt;:</span> <span class="kt">CaseEnum</span><span class="o">](</span><span class="k">implicit</span> <span class="n">instance</span><span class="k">:</span> <span class="kt">CaseEnumSerialization</span><span class="o">[</span><span class="kt">T</span><span class="o">])</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">JsonEncoding</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">write</span><span class="o">(</span><span class="n">value</span><span class="k">:</span> <span class="kt">T</span><span class="o">)</span><span class="k">:</span> <span class="kt">JsonObject</span> <span class="o">=</span> <span class="nc">JsonString</span><span class="o">(</span><span class="n">instance</span><span class="o">.</span><span class="n">caseToString</span><span class="o">(</span><span class="n">value</span><span class="o">))</span>
  <span class="k">def</span> <span class="n">read</span><span class="o">(</span><span class="n">jsonObject</span><span class="k">:</span> <span class="kt">JsonObject</span><span class="o">)</span> <span class="k">=</span> <span class="o">...</span> <span class="n">instance</span><span class="o">.</span><span class="n">caseFromString</span><span class="o">(</span><span class="n">str</span><span class="o">).</span><span class="n">getOrElse</span><span class="o">(</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nc">Exception</span><span class="o">(</span><span class="n">s</span><span class="s">"$str is not a valid ${instance.name}. Valid values are: ${instance.values.mkString("</span><span class="o">,</span> <span class="s">")}"</span><span class="o">)</span>
  <span class="o">)</span>
<span class="o">}</span>
</code></pre>
</div>

<h2 id="enumerations-with-an-associated-value">Enumerations with an associated value</h2>

<p>The <code class="highlighter-rouge">@indexedEnum</code> annotation builds enumerations that follow the library‚Äôs convention for ADT-based enums with an associated value.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sealed abstract trait Planet extends IndexedEnum {
  type Index = Int
}
object Planet {
  case object Earth extends Planet { val index = 1 }
  case object Venus extends Planet { val index = 2 }
  case object Mercury extends Planet { val index = 3 }
}
</code></pre>
</div>

<p>This is equivalent to the following.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nd">@indexedEnum</span> <span class="k">trait</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="k">type</span> <span class="kt">Index</span> <span class="o">=</span> <span class="nc">Int</span>
  <span class="k">object</span> <span class="nc">Earth</span>   <span class="o">{</span> <span class="mi">1</span> <span class="o">}</span>
  <span class="k">object</span> <span class="nc">Venus</span>   <span class="o">{</span> <span class="mi">2</span> <span class="o">}</span>
  <span class="k">object</span> <span class="nc">Mercury</span> <span class="o">{</span> <span class="mi">3</span> <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Usage of the @indexedEnum macro annotations requires the macro paradise plugin to be enabled in your project. Refer to the <a href="#Install">Install</a> section for how to set it up.</p>

<h2 id="to-and-from-the-associated-value-index">To and from the associated value (‚Äúindex‚Äù)</h2>

<p>The <code class="highlighter-rouge">CaseEnumIndex</code> typeclass provides operations to convert ADT-based enums to and from their associated values.</p>

<div class="language-scala highlighter-rouge"><pre class="highlight"><code><span class="nd">@indexedEnum</span> <span class="k">trait</span> <span class="nc">Planet</span> <span class="o">{</span>
  <span class="k">type</span> <span class="kt">Index</span> <span class="o">=</span> <span class="nc">Int</span>
  <span class="k">object</span> <span class="nc">Earth</span>   <span class="o">{</span> <span class="mi">1</span> <span class="o">}</span>
  <span class="k">object</span> <span class="nc">Venus</span>   <span class="o">{</span> <span class="mi">2</span> <span class="o">}</span>
  <span class="k">object</span> <span class="nc">Mercury</span> <span class="o">{</span> <span class="mi">3</span> <span class="o">}</span>
<span class="o">}</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">implicitly</span><span class="o">[</span><span class="kt">CaseEnumIndex</span><span class="o">[</span><span class="kt">Planet</span><span class="o">]].</span><span class="n">caseFromIndex</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
<span class="n">res0</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Planet</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Some</span><span class="o">(</span><span class="nc">Venus</span><span class="o">)</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="nc">Planet</span><span class="o">.</span><span class="nc">Mercury</span><span class="o">.</span><span class="n">index</span>
<span class="n">res1</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="n">implicitly</span><span class="o">[</span><span class="kt">CaseEnumIndex</span><span class="o">[</span><span class="kt">Planet</span><span class="o">]].</span><span class="n">caseToIndex</span><span class="o">(</span><span class="nc">Planet</span><span class="o">.</span><span class="nc">Mercury</span><span class="o">)</span>
<span class="n">res2</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">3</span>
</code></pre>
</div>

</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>enumero is designed and developed by <a href="http://buildo.github.io/enumero/" target="_blank">47 Degrees</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/buildo/enumero"><span class="fa fa-github"></span>View on GitHub</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/enumero/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="/enumero/js/kazari.js"></script><script><script>
$(document).ready(function() {
	kazari.KazariPlugin().decorateCode('https://scala-evaluator-212.herokuapp.com/eval', 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.S2F6YXJp.Jl2eqMfw8IakJF93PjxTbrf-8YUJgX5OoOfy5JHE8Yw', '', 'solarized-dark')
})
    </script></script></body></html>